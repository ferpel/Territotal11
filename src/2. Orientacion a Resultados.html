<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Escala Likert - Orientación a Resultados</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 20px; 
      line-height: 1.6; 
      background: #f9f9f9; 
      text-align: center;
    }
    h1 { margin-bottom: 10px; }
    .instructions { 
      background: #eef; 
      padding: 10px; 
      border-radius: 8px; 
      margin: 0 auto 20px auto; 
      display: inline-block; 
      text-align: left;
    }
    .question { 
      margin: 15px auto; 
      background: #fff; 
      padding: 15px; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 80%;
      text-align: center;
    }
    .question span.num { font-weight: bold; margin-right: 5px; }
    .options { margin-top: 10px; }
    .options label { display: inline-block; margin: 5px 15px; }
    button { margin: 10px 5px; padding: 10px 15px; border: none; border-radius: 8px; cursor: pointer; }
    button:first-of-type { background: #4CAF50; color: white; }
    button:last-of-type { background: #f44336; color: white; }
    .result { 
      margin: 20px auto; 
      padding: 15px; 
      background: #fff; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 60%; 
    }
  </style>
</head>
<body>
  <h1>Escala Likert - Orientación a Resultados</h1>
  <div class="instructions">
    <p><strong>Instrucciones:</strong> Seleccione la opción que mejor refleje su grado de acuerdo con cada afirmación:</p>
    <ul>
      <li>A. Totalmente en desacuerdo</li>
      <li>B. En desacuerdo</li>
      <li>C. Ni de acuerdo, ni en desacuerdo</li>
      <li>D. De acuerdo</li>
      <li>E. Totalmente de acuerdo</li>
    </ul>
  </div>

  <form id="likertForm"></form>

  <button type="button" onclick="calcularResultado()">Calcular resultado</button>
  <button type="button" onclick="reiniciar()">Reiniciar</button>

  <div id="resultado" class="result"></div>

  <script>
    let preguntas = [
      "Asumo la responsabilidad por los resultados de mi trabajo.",
      "Trabajo con base en objetivos claramente establecidos y realistas.",
      "Diseño y utilizo indicadores para medir y comprobar los resultados obtenidos.",
      "Adopto medidas para minimizar riesgos en mis funciones.",
      "Planteo estrategias para alcanzar o superar los resultados esperados.",
      "Evito asumir la responsabilidad por mis resultados.", 
      "Me fijo metas y obtengo los resultados institucionales esperados.",
      "Cumplo con oportunidad mis funciones de acuerdo con los estándares establecidos.",
      "Gestiono recursos para mejorar la productividad.",
      "Ignoro las medidas necesarias para minimizar riesgos.",
      "Evalúo de forma regular el grado de consecución de los objetivos.",
      "Mantengo la calidad en los resultados que entrego.",
      "Evito planear estrategias para cumplir los resultados.",
      "Organizo mi tiempo para cumplir con los compromisos establecidos.",
      "Busco mejorar continuamente la eficacia en mis funciones.",
      "Identifico dificultades y actúo para garantizar el logro de los objetivos.",
      "No me esfuerzo por cumplir los plazos de mis entregas.",
      "Utilizo la retroalimentación para mejorar mis próximos resultados.",
      "Priorizo las tareas más importantes para alcanzar los objetivos.",
      "Soy persistente hasta lograr los resultados propuestos.",
      "Evito responsabilizarme de corregir errores en mis resultados.",
      "Cumplo con eficacia los compromisos organizacionales.",
      "Dejo tareas incompletas sin preocuparme por los resultados.",
      "Busco siempre cumplir con calidad y oportunidad mis funciones.",
      "Me esfuerzo por superar los resultados esperados.",
      "Ignoro la importancia de medir mis resultados.",
      "Diseño planes de acción para cumplir los objetivos.",
      "Prefiero no evaluar el grado de cumplimiento de mis metas.",
      "Me adapto a cambios para cumplir con los compromisos organizacionales.",
      "Evito asumir compromisos que requieran esfuerzo adicional."
    ];

    // Índices de preguntas inversas (basado en el orden arriba, comenzando en 1)
    let inversas = [6, 10, 13, 17, 21, 23, 26, 28, 30];

    const opcionesLetras = ["A", "B", "C", "D", "E"];

    function generarFormulario() {
      const form = document.getElementById("likertForm");
      form.innerHTML = "";
      preguntas.forEach((texto, i) => {
        const div = document.createElement("div");
        div.className = "question";
        const label = document.createElement("label");
        label.innerHTML = `<span class="num">${i + 1}.</span> ${texto}`;
        div.appendChild(label);

        const opcionesDiv = document.createElement("div");
        opcionesDiv.className = "options";
        for (let j = 1; j <= 5; j++) {
          const input = document.createElement("input");
          input.type = "radio";
          input.name = "q" + (i + 1);
          input.value = j;
          const optLabel = document.createElement("label");
          optLabel.appendChild(input);
          optLabel.appendChild(document.createTextNode(" " + opcionesLetras[j - 1]));
          opcionesDiv.appendChild(optLabel);
        }
        div.appendChild(opcionesDiv);
        form.appendChild(div);
      });
    }

    function calcularResultado() {
      let total = 0, contestadas = 0, malas = [];
      let sinResponder = [];

      preguntas.forEach((_, i) => {
        const opciones = document.getElementsByName("q" + (i + 1));
        let valor = null;
        for (let op of opciones) if (op.checked) valor = parseInt(op.value);

        if (valor === null) {
          sinResponder.push(i + 1);
        } else {
          contestadas++;
          if (inversas.includes(i + 1)) valor = 6 - valor;
          total += valor;
          if (valor <= 2) malas.push(i + 1);
        }
      });

      if (sinResponder.length > 0) {
        alert("Debe responder todas las preguntas. Faltan: " + sinResponder.join(", "));
        return;
      }

      const promedio = (total / contestadas).toFixed(2);
      let nivel = "";
      if (promedio >= 4.5) nivel = "Muy alto";
      else if (promedio >= 3.5) nivel = "Alto";
      else if (promedio >= 2.5) nivel = "Medio";
      else if (promedio >= 1.5) nivel = "Bajo";
      else nivel = "Muy bajo";

      document.getElementById("resultado").innerHTML =
        `<p><strong>Puntaje total:</strong> ${total}</p>
         <p><strong>Promedio:</strong> ${promedio}</p>
         <p><strong>Nivel:</strong> ${nivel}</p>
         <p><strong>Preguntas con baja puntuación:</strong> ${malas.join(", ") || "Ninguna"}</p>`;
    }

    function reiniciar() {
      // Barajar preguntas
      for (let i = preguntas.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [preguntas[i], preguntas[j]] = [preguntas[j], preguntas[i]];
      }
      generarFormulario();
      document.getElementById("resultado").innerHTML = "";
    }

    // Inicial
    generarFormulario();
  </script>
</body>
</html>
