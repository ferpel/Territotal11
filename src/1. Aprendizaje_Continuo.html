<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Escala Likert - Aprendizaje Continuo</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 20px; 
      line-height: 1.6; 
      background: #f9f9f9; 
      text-align: center;
    }
    h1 { margin-bottom: 10px; }
    .instructions { 
      background: #eef; 
      padding: 10px; 
      border-radius: 8px; 
      margin: 0 auto 20px auto; 
      display: inline-block; 
      text-align: left;
    }
    .question { 
      margin: 15px auto; 
      background: #fff; 
      padding: 15px; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 80%;
    }
    .question span.num { font-weight: bold; margin-right: 5px; }
    .options { margin-top: 10px; }
    .options label { display: inline-block; margin: 5px 15px; }
    button { margin: 10px 5px; padding: 10px 15px; border: none; border-radius: 8px; cursor: pointer; }
    button:first-of-type { background: #4CAF50; color: white; }
    button:last-of-type { background: #f44336; color: white; }
    .result { 
      margin: 20px auto; 
      padding: 15px; 
      background: #fff; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 60%; 
    }
  </style>
</head>
<body>
  <h1>Escala Likert - Aprendizaje Continuo</h1>
  <div class="instructions">
    <p><strong>Instrucciones:</strong> Seleccione la opción que mejor refleje su grado de acuerdo con cada afirmación:</p>
    <ul>
      <li>A. Totalmente en desacuerdo</li>
      <li>B. En desacuerdo</li>
      <li>C. Ni de acuerdo, ni en desacuerdo</li>
      <li>D. De acuerdo</li>
      <li>E. Totalmente de acuerdo</li>
    </ul>
  </div>

  <form id="likertForm"></form>

  <button type="button" onclick="calcularResultado()">Calcular resultado</button>
  <button type="button" onclick="reiniciar()">Reiniciar</button>

  <div id="resultado" class="result"></div>

  <script>
    let preguntas = [
      "Mantengo mis competencias actualizadas en función de los cambios en la administración pública.",
      "Participo en capacitaciones para mejorar mi servicio.",
      "Comparto mis saberes y habilidades con mis compañeros de trabajo.",
      "Busco aprender de mis colegas habilidades diferenciales.",
      "Gestiono fuentes de información confiables para mejorar mi labor.",
      "Me esfuerzo por aplicar nuevas tecnologías en mis prácticas laborales.",
      "Evito actualizar mis conocimientos porque considero innecesario.",
      "Participo de espacios informativos para actualizarme.",
      "Me mantengo atento a los cambios normativos que afectan mi trabajo.",
      "Ignoro las oportunidades de capacitación que ofrece mi entidad.",
      "Comparto información actualizada con mi equipo de trabajo.",
      "Aprendo de experiencias exitosas de otros compañeros.",
      "Busco integrar nuevos métodos en mis procesos laborales.",
      "Actualizo mis conocimientos según cambios tecnológicos.",
      "Prefiero seguir trabajando siempre de la misma manera, sin cambios.",
      "Incorporo buenas prácticas de otras áreas de la entidad.",
      "Consulto fuentes oficiales para mejorar mis tareas.",
      "Me interesa adquirir nuevas habilidades relacionadas con mi puesto.",
      "Considero innecesario aprender cosas nuevas para mi rol.",
      "Aplico lo aprendido en capacitaciones a mis funciones.",
      "Valoro el aprendizaje colaborativo con mis compañeros.",
      "No reviso información nueva porque confío en lo que ya sé.",
      "Identifico oportunidades de mejora en mi desempeño a partir de nueva información.",
      "Aprendo de la retroalimentación que recibo.",
      "Actualizo mi visión del contexto institucional según cambios normativos.",
      "Me resisto a usar nuevas herramientas o métodos de trabajo.",
      "Promuevo el intercambio de saberes dentro de mi equipo.",
      "Me mantengo informado sobre programas de trabajo vigentes.",
      "Estoy abierto a recibir formación continua.",
      "Busco que mis prácticas laborales se ajusten a los avances disponibles."
    ];

    // Índices de las preguntas inversas
    let inversas = [7, 10, 15, 19, 22, 26];

    const opcionesLetras = ["A", "B", "C", "D", "E"];

    function generarFormulario() {
      const form = document.getElementById("likertForm");
      form.innerHTML = "";
      preguntas.forEach((texto, i) => {
        const div = document.createElement("div");
        div.className = "question";
        const label = document.createElement("label");
        label.innerHTML = `<span class="num">${i + 1}.</span> ${texto}`;
        div.appendChild(label);

        const opcionesDiv = document.createElement("div");
        opcionesDiv.className = "options";
        for (let j = 1; j <= 5; j++) {
          const input = document.createElement("input");
          input.type = "radio";
          input.name = "q" + (i + 1);
          input.value = j;
          const optLabel = document.createElement("label");
          optLabel.appendChild(input);
          optLabel.appendChild(document.createTextNode(" " + opcionesLetras[j - 1]));
          opcionesDiv.appendChild(optLabel);
        }
        div.appendChild(opcionesDiv);
        form.appendChild(div);
      });
    }

    function calcularResultado() {
      let total = 0, contestadas = 0, malas = [];
      preguntas.forEach((_, i) => {
        const opciones = document.getElementsByName("q" + (i + 1));
        let valor = null;
        for (let op of opciones) if (op.checked) valor = parseInt(op.value);
        if (valor !== null) {
          contestadas++;
          if (inversas.includes(i + 1)) valor = 6 - valor;
          total += valor;
          if (valor <= 2) malas.push(i + 1);
        }
      });
      const promedio = (total / contestadas).toFixed(2);
      let nivel = "";
      if (promedio >= 4.5) nivel = "Muy alto";
      else if (promedio >= 3.5) nivel = "Alto";
      else if (promedio >= 2.5) nivel = "Medio";
      else if (promedio >= 1.5) nivel = "Bajo";
      else nivel = "Muy bajo";
      document.getElementById("resultado").innerHTML =
        `<p><strong>Puntaje total:</strong> ${total}</p>
         <p><strong>Promedio:</strong> ${promedio}</p>
         <p><strong>Nivel:</strong> ${nivel}</p>
         <p><strong>Preguntas con baja puntuación:</strong> ${malas.join(", ") || "Ninguna"}</p>`;
    }

    function reiniciar() {
      // Barajar preguntas
      for (let i = preguntas.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [preguntas[i], preguntas[j]] = [preguntas[j], preguntas[i]];
      }
      generarFormulario();
      document.getElementById("resultado").innerHTML = "";
    }

    // Inicial
    generarFormulario();
  </script>
</body>
</html>
