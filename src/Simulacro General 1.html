<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulacro 90 Preguntas - Competencias</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 20px; 
      line-height: 1.6; 
      background: #f9f9f9; 
      text-align: center;
    }
    h1 { margin-bottom: 10px; }
    .instructions { 
      background: #eef; 
      padding: 10px; 
      border-radius: 8px; 
      margin: 0 auto 20px auto; 
      display: inline-block; 
      text-align: left;
    }
    .question { 
      margin: 15px auto; 
      background: #fff; 
      padding: 15px; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 80%;
      text-align: center;
    }
    .question span.num { font-weight: bold; margin-right: 5px; }
    .options { margin-top: 10px; }
    .options label { display: inline-block; margin: 5px 15px; }
    button { margin: 10px 5px; padding: 10px 15px; border: none; border-radius: 8px; cursor: pointer; }
    button:first-of-type { background: #4CAF50; color: white; }
    button:last-of-type { background: #f44336; color: white; }
    .result { 
      margin: 20px auto; 
      padding: 15px; 
      background: #fff; 
      border-radius: 8px; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
      width: 60%; 
    }
  </style>
</head>
<body>
  <h1>Simulacro Escala Likert - 90 Preguntas</h1>
  <div class="instructions">
    <p><strong>Instrucciones:</strong> Seleccione la opción que mejor refleje su grado de acuerdo con cada afirmación:</p>
    <ul>
      <li>A. Totalmente en desacuerdo</li>
      <li>B. En desacuerdo</li>
      <li>C. Ni de acuerdo, ni en desacuerdo</li>
      <li>D. De acuerdo</li>
      <li>E. Totalmente de acuerdo</li>
    </ul>
  </div>

  <form id="likertForm"></form>

  <button type="button" onclick="calcularResultado()">Calcular resultado</button>
  <button type="button" onclick="reiniciar()">Reiniciar</button>

  <div id="resultado" class="result"></div>

  <script>
    let preguntas = [
      // Aprendizaje Continuo (1–10)
      "Me esfuerzo por actualizar mis conocimientos en normativas vigentes.",
      "Busco fuentes confiables para mantenerme informado.",
      "Participo en capacitaciones para mejorar mis competencias.",
      "Comparto lo que aprendo con mis compañeros de trabajo.",
      "Aprendo de las experiencias y habilidades de mis colegas.",
      "Evito adaptarme a nuevas herramientas de trabajo.", // INVERSA
      "Me interesa estar al día con tecnologías aplicables a mi labor.",
      "Ignoro oportunidades de capacitación institucional.", // INVERSA
      "Aplico en mi trabajo los conocimientos adquiridos.",
      "Promuevo espacios de aprendizaje colaborativo.",

      // Orientación a Resultados (11–20)
      "Asumo la responsabilidad por los resultados de mi gestión.",
      "Trabajo con objetivos claros y alcanzables.",
      "Diseño indicadores para medir mis resultados.",
      "Adopto medidas para minimizar riesgos en el trabajo.",
      "Planteo estrategias para alcanzar metas.",
      "Ignoro el cumplimiento de estándares institucionales.", // INVERSA
      "Cumplo con los compromisos en el tiempo estipulado.",
      "Gestiono recursos para mejorar la productividad.",
      "Aporto elementos para el logro de resultados institucionales.",
      "Evalúo periódicamente el cumplimiento de los objetivos.",

      // Orientación al usuario y ciudadano (21–30)
      "Valoro las necesidades de los ciudadanos que atiendo.",
      "Escucho activamente a los usuarios para comprender sus solicitudes.",
      "Respondo de manera oportuna a las peticiones de los ciudadanos.",
      "Genero espacios de comunicación incluyente y respetuosa.",
      "Aplico principios de no discriminación en mi trato.",
      "Ignoro las inquietudes planteadas por los usuarios.", // INVERSA
      "Transmito información veraz y clara a los ciudadanos.",
      "Integro las necesidades de los usuarios en los proyectos institucionales.",
      "Desconozco el impacto de mis decisiones en los usuarios.", // INVERSA
      "Establezco mecanismos para conocer las expectativas ciudadanas.",

      // Compromiso con la Organización (31–40)
      "Promuevo las metas de la organización.",
      "Respeto las normas institucionales.",
      "Antepongo las necesidades de la organización a las mías.",
      "Apoyo a la organización en situaciones difíciles.",
      "Demuestro sentido de pertenencia en mis actuaciones.",
      "Ignoro las prioridades institucionales frente a las mías.", // INVERSA
      "Colaboro con otras áreas cuando se requiere.",
      "Cumplo mis funciones con compromiso hacia la entidad.",
      "Me desentiendo de los objetivos de la organización.", // INVERSA
      "Defiendo los intereses de la entidad en todo momento.",

      // Trabajo en equipo (41–50)
      "Cumplo los compromisos adquiridos con mi equipo.",
      "Respeto la diversidad de criterios de mis compañeros.",
      "Me esfuerzo por contribuir a la motivación del equipo.",
      "Planifico mis acciones pensando en los objetivos grupales.",
      "Mantengo una comunicación directa y cordial con mis compañeros.",
      "Ignoro las responsabilidades compartidas en el equipo.", // INVERSA
      "Integro a los nuevos miembros en las actividades grupales.",
      "Me esfuerzo por resolver conflictos en el equipo.",
      "Obstaculizo el trabajo de mis compañeros.", // INVERSA
      "Contribuyo al logro de metas colectivas.",

      // Adaptación al cambio (51–60)
      "Acepto fácilmente nuevas situaciones laborales.",
      "Respondo con flexibilidad a los cambios.",
      "Apoyo a la entidad en la implementación de nuevos objetivos.",
      "Me adapto a nuevas formas de trabajo.",
      "Promuevo que mi grupo se ajuste a nuevas condiciones.",
      "Resisto cualquier tipo de cambio en la organización.", // INVERSA
      "Colaboro activamente en procesos de innovación.",
      "Adopto con disposición nuevos procedimientos.",
      "Me esfuerzo por ver el cambio como una oportunidad.",
      "Me cierro a nuevas ideas en el entorno laboral.", // INVERSA

      // Manejo de la Información (61–70)
      "Manejo con responsabilidad la información institucional.",
      "Custodio adecuadamente la información a mi cargo.",
      "Transito información oportuna y objetiva.",
      "Recopilo solo la información necesaria para mi labor.",
      "Evito hablar de información confidencial con terceros.",
      "Divulgo información sensible sin autorización.", // INVERSA
      "Organizo la información siguiendo las normas legales.",
      "Comparto información veraz para apoyar decisiones.",
      "Hago pública información que puede afectar la organización.", // INVERSA
      "Protejo la información personal de los usuarios.",

      // Relaciones Interpersonales (71–80)
      "Escucho con interés las necesidades de los demás.",
      "Transmito información fidedigna a mis compañeros.",
      "Tomo la iniciativa en la comunicación con usuarios.",
      "Uso un lenguaje respetuoso y claro.",
      "Fomento un ambiente laboral positivo.",
      "Interrumpo constantemente a los demás.", // INVERSA
      "Valoro la diversidad cultural en mi trabajo.",
      "Ignoro las preocupaciones de mis compañeros.", // INVERSA
      "Brindo apoyo a quienes lo necesitan.",
      "Promuevo el respeto en todas mis interacciones.",

      // Colaboración (81–90)
      "Colaboro activamente con mis compañeros.",
      "Cumplo los compromisos adquiridos con el equipo.",
      "Facilito la labor de mis superiores.",
      "Articulo mis actuaciones con las de los demás.",
      "Promuevo la cooperación entre áreas.",
      "Prefiero trabajar solo aunque afecte al grupo.", // INVERSA
      "Apoyo a mis compañeros en situaciones difíciles.",
      "Ignoro el impacto de mi trabajo en los demás.", // INVERSA
      "Fomento la confianza y el respeto en el equipo.",
      "Me esfuerzo en alcanzar metas colectivas."
    ];

    // Índices inversos (1-based)
    let inversas = [6, 8, 16, 21, 29, 36, 39, 46, 49, 56, 60, 66, 69, 76, 78, 86, 88];

    const opcionesLetras = ["A", "B", "C", "D", "E"];

    function generarFormulario() {
      const form = document.getElementById("likertForm");
      form.innerHTML = "";
      preguntas.forEach((texto, i) => {
        const div = document.createElement("div");
        div.className = "question";
        const label = document.createElement("label");
        label.innerHTML = `<span class="num">${i + 1}.</span> ${texto}`;
        div.appendChild(label);

        const opcionesDiv = document.createElement("div");
        opcionesDiv.className = "options";
        for (let j = 1; j <= 5; j++) {
          const input = document.createElement("input");
          input.type = "radio";
          input.name = "q" + (i + 1);
          input.value = j;
          const optLabel = document.createElement("label");
          optLabel.appendChild(input);
          optLabel.appendChild(document.createTextNode(" " + opcionesLetras[j - 1]));
          opcionesDiv.appendChild(optLabel);
        }
        div.appendChild(opcionesDiv);
        form.appendChild(div);
      });
    }

    function calcularResultado() {
      let total = 0, contestadas = 0, malas = [];
      let sinResponder = [];

      preguntas.forEach((_, i) => {
        const opciones = document.getElementsByName("q" + (i + 1));
        let valor = null;
        for (let op of opciones) if (op.checked) valor = parseInt(op.value);

        if (valor === null) {
          sinResponder.push(i + 1);
        } else {
          contestadas++;
          if (inversas.includes(i + 1)) valor = 6 - valor;
          total += valor;
          if (valor <= 2) malas.push(i + 1);
        }
      });

      if (sinResponder.length > 0) {
        alert("Debe responder todas las preguntas. Faltan: " + sinResponder.join(", "));
        return;
      }

      const promedio = (total / contestadas).toFixed(2);
      let nivel = "";
      if (promedio >= 4.5) nivel = "Muy alto";
      else if (promedio >= 3.5) nivel = "Alto";
      else if (promedio >= 2.5) nivel = "Medio";
      else if (promedio >= 1.5) nivel = "Bajo";
      else nivel = "Muy bajo";

      document.getElementById("resultado").innerHTML =
        `<p><strong>Puntaje total:</strong> ${total}</p>
         <p><strong>Promedio:</strong> ${promedio}</p>
         <p><strong>Nivel:</strong> ${nivel}</p>
         <p><strong>Preguntas con baja puntuación:</strong> ${malas.join(", ") || "Ninguna"}</p>`;
    }

    function reiniciar() {
      const combinadas = preguntas.map((texto, idx) => ({
        texto,
        inversa: inversas.includes(idx + 1)
      }));
      for (let i = combinadas.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [combinadas[i], combinadas[j]] = [combinadas[j], combinadas[i]];
      }
      preguntas = combinadas.map(x => x.texto);
      inversas = combinadas
        .map((x, idx) => (x.inversa ? idx + 1 : null))
        .filter(x => x !== null);

      generarFormulario();
      document.getElementById("resultado").innerHTML = "";
    }

    generarFormulario();
  </script>
</body>
</html>
